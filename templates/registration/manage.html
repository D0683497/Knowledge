{% extends "layout.html" %}
{% load static %}

{% block title %}資安週 - 用戶資料{% endblock %}

{% block content %}
<div class="container">
    <h3>用戶資料</h3>
    <hr>
    <form method="post" action="{% url 'manage' %}">

        {% csrf_token %}

        {% if form.username.errors %}
            <div class="form-group">
                <label for="id_username">帳號</label>
                <input id="id_username" name="username" type="text" maxlength="150" autofocus required class="form-control is-invalid" aria-describedby="usernameHelp"></input>
                <small id="usernameHelp" class="form-text text-muted">只包含字母、數字和 @/./+/-/_</small>
                <div class="invalid-feedback">
                    {% for error in form.username.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_username">帳號</label>
                <input id="id_username" name="username" value="{{ form.username.value }}" type="text" maxlength="150" autofocus required class="form-control" aria-describedby="usernameHelp"></input>
                <small id="usernameHelp" class="form-text text-muted">只包含字母、數字和 @/./+/-/_</small>
            </div>
        {% endif %}

        {% if form.email.errors %}
            <div class="form-group">
                <label for="id_email">電子信箱</label>
                <input id="id_email" name="email" type="email" maxlength="254" class="form-control is-invalid"></input>
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_email">電子信箱</label>
                <input id="id_email" name="email" type="text" value="{{ form.email.value }}" maxlength="254" class="form-control"></input>
            </div>
        {% endif %}

        {% if form.studentId.errors %}
            <div class="form-group">
                <label for="id_studentId">學號</label>
                <input id="id_studentId" name="studentId" type="text" maxlength="10" required class="form-control is-invalid" aria-describedby="studentIdHelp"></input>
                <small id="studentIdHelp" class="form-text text-muted">請輸入正確的學號，否則將影響您的權益</small>
                <div class="invalid-feedback">
                    {% for error in form.studentId.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_studentId">學號</label>
                <input id="id_studentId" name="studentId" type="text" value="{{ form.studentId.value }}" maxlength="10" required class="form-control" aria-describedby="studentIdHelp"></input>
                <small id="studentIdHelp" class="form-text text-muted">請輸入正確的學號，否則將影響您的權益</small>
            </div>
        {% endif %}

        {% if form.last_name.errors %}
            <div class="form-group">
                <label for="id_last_name">姓氏</label>
                <input id="id_last_name" name="last_name" type="text" maxlength="150" class="form-control is-invalid"></input>
                <div class="invalid-feedback">
                    {% for error in form.last_name.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_last_name">姓氏</label>
                <input id="id_last_name" name="last_name" value="{{ form.last_name.value }}" type="text" maxlength="150" class="form-control"></input>
            </div>
        {% endif %}

        {% if form.first_name.errors %}
            <div class="form-group">
                <label for="id_first_name">名字</label>
                <input id="id_first_name" name="first_name" type="text" maxlength="30" class="form-control is-invalid"></input>
                <div class="invalid-feedback">
                    {% for error in form.first_name.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_first_name">名字</label>
                <input id="id_first_name" name="first_name" value="{{ form.first_name.value }}" type="text" maxlength="30" class="form-control"></input>
            </div>
        {% endif %}

        <button type="submit" class="btn btn-primary">送出</button>
    </form>
</div>
{% endblock %}
