{% extends "layout.html" %}
{% load static %}

{% block title %}資安週 - 註冊{% endblock %}

{% block content %}
<div class="container">
    <div class="d-flex justify-content-between">
        <h3>註冊</h3>
        <a href="{% url 'login' %}" class="btn btn-primary" role="button">點我登入</a>
    </div>
    <hr>

    <form method="post" action="{% url 'register' %}">

        {% csrf_token %}
        
        {% if form.username.errors %}
            <div class="form-group">
                <label for="id_username">帳號</label>
                <input id="id_username" name="username" type="text" maxlength="150" autofocus required class="form-control is-invalid" aria-describedby="usernameHelp"></input>
                <small id="usernameHelp" class="form-text text-muted">只包含字母、數字和 @/./+/-/_</small>
                <div class="invalid-feedback">
                    {% for error in form.username.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_username">帳號</label>
                <input id="id_username" name="username" type="text" maxlength="150" autofocus required class="form-control" aria-describedby="usernameHelp"></input>
                <small id="usernameHelp" class="form-text text-muted">只包含字母、數字和 @/./+/-/_</small>
            </div>
        {% endif %}
        
        {% if form.password1.errors %}
            <div class="form-group">
                <label for="id_password1">密碼</label>
                <input type="password" class="form-control is-invalid" id="id_password1" name="password1" aria-describedby="password1Help" required></input>
                <small id="password1Help" class="form-text text-muted">必須包含至少 8 個字元且不能完全是數字</small>
                <div class="invalid-feedback">
                    {% for error in form.password1.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_password1">密碼</label>
                <input type="password" class="form-control" id="id_password1" name="password1" aria-describedby="password1Help" required></input>
                <small id="password1Help" class="form-text text-muted">必須包含至少 8 個字元且不能完全是數字</small>
            </div>
        {% endif %}

        {% if form.password2.errors %}
            <div class="form-group">
                <label for="id_password2">密碼確認</label>
                <input type="password" class="form-control is-invalid" name="password2" required id="id_password2" aria-describedby="password2Help">
                <small id="password2Help" class="form-text text-muted">請輸入與前面相同的密碼</small>
                <div class="invalid-feedback">
                    {% for error in form.password2.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_password2">密碼確認</label>
                <input type="password" class="form-control" name="password2" required id="id_password2" aria-describedby="password2Help">
                <small id="password2Help" class="form-text text-muted">請輸入與前面相同的密碼</small>
            </div>
        {% endif %}

        {% if form.studentId.errors %}
            <div class="form-group">
                <label for="id_studentId">學號</label>
                <input id="id_studentId" name="studentId" type="text" maxlength="10" required class="form-control is-invalid" aria-describedby="studentIdHelp"></input>
                <small id="studentIdHelp" class="form-text text-muted">請輸入正確的學號，否則將影響您的權益</small>
                <div class="invalid-feedback">
                    {% for error in form.studentId.errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            </div>
        {% else %}
            <div class="form-group">
                <label for="id_studentId">學號</label>
                <input id="id_studentId" name="studentId" type="text" maxlength="10" required class="form-control" aria-describedby="studentIdHelp"></input>
                <small id="studentIdHelp" class="form-text text-muted">請輸入正確的學號，否則將影響您的權益</small>
            </div>
        {% endif %}

        <button type="submit" class="btn btn-primary">註冊</button>
    </form>

</div>
{% endblock %}
